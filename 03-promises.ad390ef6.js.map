{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,aAAcF,SAASC,cAAc,qBAMjCE,EAAQ,GACdL,EAAKC,KAAKK,iBAAiB,SAASC,IAClCF,EAAME,EAAEC,OAAOC,MAAQC,OAAOH,EAAEC,OAAOG,MAAM,IAG/C,IAAIC,EAAiB,EAErBZ,EAAKI,aAAaE,iBAAiB,SAAS,KAC1CO,YAAW,KACT,MAAMC,EAAaC,aAAY,KAyBnC,IAAuBC,EAAUC,GAAVD,EAxBHJ,EAwBaK,EAxBGZ,EAAMY,MAyBjC,IAAIC,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,IAGpCH,EAAQ,C,SAAEH,E,MAAUC,IAEtBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,KA9BtBM,MAAK,EAACP,SAAEA,EAAQC,MAAEA,MACjBO,EAAA1B,GAAS2B,OAAOC,QACd,uBAAqBV,QAAiBC,MAAU,IAGnDU,OAAM,EAACX,SAAEA,EAAQC,MAAEA,MAClBO,EAAA1B,GAAS2B,OAAOG,QACd,sBAAoBZ,QAAeC,MAAU,IAI/CL,IAAmBP,EAAMwB,SAC3BjB,EAAiB,EACjBP,EAAMY,MAAQ,EACda,aAAahB,IAGfF,GAAkB,EAClBP,EAAMY,OAASZ,EAAM0B,IAAI,GACxB1B,EAAM0B,KAAK,GACb1B,EAAMY,MAAM","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  form: document.querySelector('.form'),\n  submitButton: document.querySelector('.create-promises'),\n  // valueInput: document.querySelector('first-delay.')\n};\n// const delayValue = 0;\n// refs.valueInput.addEventListener('input', (e) =>\n// delayValue = e.target.value)\nconst value = {};\nrefs.form.addEventListener('input', e => {\n  value[e.target.name] = Number(e.target.value);\n});\n\nlet promiseCounter = 1;\n\nrefs.submitButton.addEventListener('click', () => {\n  setTimeout(() => {\n    const intervalId = setInterval(() => {\n      createPromise(promiseCounter, value.delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n\n      if (promiseCounter === value.amount) {\n        promiseCounter = 0;\n        value.delay = 0;\n        clearTimeout(intervalId);\n      }\n\n      promiseCounter += 1;\n      value.delay += value.step;\n    }, value.step);\n  }, value.delay);\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve({ position, delay });\n    }\n    reject({ position, delay });\n  });\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","submitButton","$47d4ff9957288465$var$value","addEventListener","e","target","name","Number","value","$47d4ff9957288465$var$promiseCounter","setTimeout","intervalId","setInterval","position","delay","Promise","resolve","reject","Math","random","then","$parcel$interopDefault","Notify","success","catch","failure","amount","clearTimeout","step"],"version":3,"file":"03-promises.ad390ef6.js.map"}