{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,aAAcF,SAASC,cAAc,qBAEvCE,MAAQ,GACRL,EAAKC,KAAKK,iBAAiB,SAASC,IAClCF,MAAME,EAAEC,OAAOC,MAAQC,OAAOH,EAAEC,OAAOH,MAAM,IAE/CM,QAAQC,IAAIP,OAEZ,IAAIQ,EAAiB,EAErBb,EAAKI,aAAaE,iBAAiB,SAAS,KAC1CQ,YAAW,KACT,MAAMC,EAAaC,aAAY,KAsBnC,IAAuBC,EAAUC,GAAVD,EArBHJ,EAqBaK,EArBGb,MAAMa,MAsBjC,IAAIC,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,IAGpCH,EAAQ,C,SAAEH,E,MAAUC,IAEtBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,KA3BtBM,MAAK,EAACP,SAAEA,EAAQC,MAAEA,MACjBO,EAAA3B,GAAS4B,OAAOC,QACd,uBAAqBV,QAAiBC,MAAU,IAGnDU,OAAM,EAACX,SAAEA,EAAQC,MAAEA,MAClBO,EAAA3B,GAAS4B,OAAOG,QACd,sBAAoBZ,QAAeC,MAAU,IAI/CL,GAAkBR,MAAMyB,QAC1BC,aAAahB,GAEfF,GAAkB,EAClBR,MAAMa,OAASb,MAAM2B,IAAI,GACxB3B,MAAM2B,KAAK,GACb3B,MAAMa,MAAM","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  form: document.querySelector('.form'),\n  submitButton: document.querySelector('.create-promises'),\n};\nvalue = {};\nrefs.form.addEventListener('input', e => {\n  value[e.target.name] = Number(e.target.value);\n});\nconsole.log(value);\n\nlet promiseCounter = 1;\n\nrefs.submitButton.addEventListener('click', () => {\n  setTimeout(() => {\n    const intervalId = setInterval(() => {\n      createPromise(promiseCounter, value.delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n\n      if (promiseCounter >= value.amount) {\n        clearTimeout(intervalId);\n      }\n      promiseCounter += 1;\n      value.delay += value.step;\n    }, value.step);\n  }, value.delay);\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve({ position, delay });\n    }\n    reject({ position, delay });\n  });\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","submitButton","value","addEventListener","e","target","name","Number","console","log","$47d4ff9957288465$var$promiseCounter","setTimeout","intervalId","setInterval","position","delay","Promise","resolve","reject","Math","random","then","$parcel$interopDefault","Notify","success","catch","failure","amount","clearTimeout","step"],"version":3,"file":"03-promises.8cadea8a.js.map"}