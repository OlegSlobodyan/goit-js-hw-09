{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,aAAcF,SAASC,cAAc,qBAEvCE,MAAQ,GACRL,EAAKC,KAAKK,iBAAiB,SAAS,SAAAC,GAClCF,MAAME,EAAEC,OAAOC,MAAQC,OAAOH,EAAEC,OAAOH,M,IAEzCM,QAAQC,IAAIP,OAEZ,IAAIQ,EAAiB,EAErBb,EAAKI,aAAaE,iBAAiB,SAAS,WAC1CQ,YAAW,WACT,IAAMC,EAAaC,aAAY,WAsBnC,IAAuBC,EAAUC,GAAVD,EArBHJ,EAqBaK,EArBGb,MAAMa,MAsBjC,IAAIC,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,IAGpCH,EAAQ,CAAEH,WAAUC,UAEtBG,EAAO,CAAEJ,WAAUC,S,KA3BdM,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MACjBQ,EAAA5B,GAAS6B,OAAOC,QACd,uBAAwCC,OAAfZ,EAAS,QAAYY,OAANX,EAAM,M,IAGjDY,OAAM,SAAAL,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MAClBQ,EAAA5B,GAAS6B,OAAOI,QACd,sBAAqCF,OAAfZ,EAAS,QAAYY,OAANX,EAAM,M,IAI7CL,GAAkBR,MAAM2B,QAC1BC,aAAalB,GAEfF,GAAkB,EAClBR,MAAMa,OAASb,MAAM6B,I,GACpB7B,MAAM6B,K,GACR7B,MAAMa,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  form: document.querySelector('.form'),\n  submitButton: document.querySelector('.create-promises'),\n};\nvalue = {};\nrefs.form.addEventListener('input', e => {\n  value[e.target.name] = Number(e.target.value);\n});\nconsole.log(value);\n\nlet promiseCounter = 1;\n\nrefs.submitButton.addEventListener('click', () => {\n  setTimeout(() => {\n    const intervalId = setInterval(() => {\n      createPromise(promiseCounter, value.delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n\n      if (promiseCounter >= value.amount) {\n        clearTimeout(intervalId);\n      }\n      promiseCounter += 1;\n      value.delay += value.step;\n    }, value.step);\n  }, value.delay);\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve({ position, delay });\n    }\n    reject({ position, delay });\n  });\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","submitButton","value","addEventListener","e","target","name","Number","console","log","$ce04d3a99e08e73b$var$promiseCounter","setTimeout","intervalId","setInterval","position","delay","Promise","resolve","reject","Math","random","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","amount","clearTimeout","step"],"version":3,"file":"03-promises.4b38fd62.js.map"}